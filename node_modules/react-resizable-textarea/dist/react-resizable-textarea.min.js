!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactResizableTextarea=t(require("react")):e.ReactResizableTextarea=t(e.react)}(this,function(e){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(1),u=n(l),h=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._lastY=0,i._lastX=0,i._textAreaHeight=0,i._textAreaWidth=0,i._onEnableDrag=i._onEnableDrag.bind(i),i._onDisableDrag=i._onDisableDrag.bind(i),i._onMouseMove=i._onMouseMove.bind(i),i._autoSizeTextarea=i._autoSizeTextarea.bind(i),i}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.fitOnMount&&this._autoSizeTextarea(),this._dragger.addEventListener("mousedown",this._onEnableDrag)}},{key:"componentWillUnmount",value:function(){this._dragger.removeEventListener("mousedown",this._onEnableDrag),this._removeEventListeners()}},{key:"getTextarea",value:function(){return this._textArea}},{key:"_autoSizeTextarea",value:function(){var e=this._textArea.style.overflowY,t=Math.max(this._textArea.offsetWidth,this.props.minWidth);this._textArea.style.width=t+"px",this._textArea.style.overflowY="hidden";var i=window.getComputedStyle(this._textArea),n=parseInt(i.getPropertyValue("border-top-width"),10),r=parseInt(i.getPropertyValue("border-bottom-width"),10),o=n+r+this._textArea.scrollHeight;o=Math.max(o,this.props.minHeight),this._textArea.style.height=o+"px",this._textArea.style.overflowY=e}},{key:"_onEnableDrag",value:function(e){document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onDisableDrag),this._lastY=e.clientY,this._lastX=e.clientX,this._textAreaHeight=this._textArea.offsetHeight,this._textAreaWidth=this._textArea.offsetWidth,e.preventDefault()}},{key:"_onDisableDrag",value:function(){this._removeEventListeners(),window.getSelection().removeAllRanges()}},{key:"_removeEventListeners",value:function(){document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onDisableDrag),this._scrollableContainer&&this._scrollableContainer.removeEventListener("mousedown",this._onPreventMouseDownOnScrollableParent)}},{key:"_onMouseMove",value:function(e){if(this.props.directions.indexOf("y")!==-1){var t=e.clientY-this._lastY;this._textAreaHeight=Math.max(this._textAreaHeight+t,this.props.minHeight),this._textArea.style.height=this._textAreaHeight+"px"}if(this.props.directions.indexOf("x")!==-1){var i=e.clientX-this._lastX;this._textAreaWidth=Math.max(this._textAreaWidth+i,this.props.minWidth),this._textArea.style.width=this._textAreaWidth+"px"}this._lastX=e.clientX,this._lastY=e.clientY}},{key:"render",value:function(){var e=this,t={};Object.keys(this.props).forEach(function(i){t[i]=e.props[i]}),t.className="resizable-textarea "+this.props.className,t.ref=function(t){return e._textArea=t},t.style?(t.style.minWidth=t.minWidth,t.style.minHeight=t.minHeight):t.style={minWidth:t.minWidth,minHeight:t.minHeight},delete t.directions,delete t.minWidth,delete t.minHeight,delete t.fitOnMount;var i="resizable-textarea-dragger direction-"+this.props.directions;return u.default.createElement("div",{className:"resizable-textarea-container",ref:function(t){return e._container=t}},u.default.createElement("textarea",t),u.default.createElement("div",{className:i,ref:function(t){return e._dragger=t}}))}}]),t}(l.Component);h.propTypes={directions:l.PropTypes.string,className:l.PropTypes.string,minWidth:l.PropTypes.number,minHeight:l.PropTypes.number,fitOnMount:l.PropTypes.bool},h.defaultProps={directions:"y",className:"",minWidth:100,minHeight:30,fitOnMount:!1},t.default=h},function(t,i){t.exports=e}])});